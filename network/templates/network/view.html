{% extends "network/layout.html" %}

{% block body %}
<h2>All Posts</h2>
{% if user.is_authenticated %}
<div>
    <h4>{{ username }}</h4>
    <figcaption>{{ followers }} Followers</figcaption>
    <span>{{ following.following.count }} Following</span>
</div>

<div class="comments">
    {% for post in posts.all %}
    <!-- get only posts for username profile -->
    {% if post.user == username %}
    <blockquote class="blockquote">
        {{ post.body | linebreaks }}
    </blockquote>
    <figcaption class="blockquote-footer">
        {{ post.created }}
        {{ post.user}}
    </figcaption>
    {% if post.user|stringformat:"s" != request.user.username %}
    <a class="likes" href="{% url 'like' post.id %}">❤️{{ post.likes }}</a>
    {% else %}
    <a class="likes" href="#">❤️{{ post.likes }}</a>
    {% endif %}
    {% endif %}
    {% endfor %}
</div>

{% endif %}

{% endblock %}